{"componentChunkName":"component---src-templates-blog-post-js","path":"/React/230214/","result":{"data":{"site":{"siteMetadata":{"author":"yhuj79","comment":{"utterances":"yhuj79/blog-comments"},"sponsor":{"buyMeACoffeeId":"yhuj79"}}},"markdownRemark":{"excerpt":"React-Quill은 간편하게 사용할 수 있는 Rich Text Editor이다. 하이퍼링크, 글꼴, 색상, 스타일, 이미지 등의 양식을 쉽게 구성할 수 있다. React-Quill 구성하기 React App에 react-quill을 설치한다. App.js에 다음과 같이 Quill 에디터를 구성하였다.\n상단 버튼을 클릭하면 콘솔에서 에디터의 value를…","html":"<blockquote>\n<p>React-Quill은 간편하게 사용할 수 있는 Rich Text Editor이다.</p>\n<p>하이퍼링크, 글꼴, 색상, 스타일, 이미지 등의 양식을 쉽게 구성할 수 있다.</p>\n</blockquote>\n<h2 id=\"react-quill-구성하기\" style=\"position:relative;\"><a href=\"#react-quill-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"react quill 구성하기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React-Quill 구성하기</h2>\n<p>React App에 <code>react-quill</code>을 설치한다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ yarn add react-quill</span></span></span></code></pre>\n<p><code>App.js</code>에 다음과 같이 Quill 에디터를 구성하였다.<br>\n상단 버튼을 클릭하면 콘솔에서 에디터의 value를 확인할 수 있게 만들었다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// src/App.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">useMemo</span><span class=\"mtk1\">, </span><span class=\"mtk4\">useRef</span><span class=\"mtk1\">, </span><span class=\"mtk4\">useState</span><span class=\"mtk1\"> } </span><span class=\"mtk9\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react-quill/dist/quill.snow.css&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">ReactQuill</span><span class=\"mtk1\"> </span><span class=\"mtk9\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react-quill&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">function</span><span class=\"mtk1\"> </span><span class=\"mtk3\">App</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">quillRef</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">useRef</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> [</span><span class=\"mtk11\">content</span><span class=\"mtk1\">, </span><span class=\"mtk11\">setContent</span><span class=\"mtk1\">] </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">useState</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5 mtki\">// quill에서 사용할 모듈</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5 mtki\">// useMemo를 사용하여 modules가 렌더링 시 에디터가 사라지는 버그를 방지</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">modules</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">useMemo</span><span class=\"mtk1\">(() </span><span class=\"mtk9\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">toolbar</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">container</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          [{ </span><span class=\"mtk4\">header</span><span class=\"mtk1\">: [</span><span class=\"mtk7\">1</span><span class=\"mtk1\">, </span><span class=\"mtk7\">2</span><span class=\"mtk1\">, </span><span class=\"mtk7\">3</span><span class=\"mtk1\">, </span><span class=\"mtk7\">false</span><span class=\"mtk1\">] }],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          [</span><span class=\"mtk6\">&quot;bold&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;italic&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;underline&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;strike&quot;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          [</span><span class=\"mtk6\">&quot;blockquote&quot;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          [{ </span><span class=\"mtk4\">list</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;ordered&quot;</span><span class=\"mtk1\"> }, { </span><span class=\"mtk4\">list</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;bullet&quot;</span><span class=\"mtk1\"> }],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          [{ </span><span class=\"mtk4\">color</span><span class=\"mtk1\">: [] }, { </span><span class=\"mtk4\">background</span><span class=\"mtk1\">: [] }],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          [{ </span><span class=\"mtk4\">align</span><span class=\"mtk1\">: [] }, </span><span class=\"mtk6\">&quot;link&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;image&quot;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }, [])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">style</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk1\">{ </span><span class=\"mtk4\">margin</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;50px&quot;</span><span class=\"mtk1\"> }</span><span class=\"mtk9\">}</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk4\">button</span><span class=\"mtk1\"> </span><span class=\"mtk7 mtki\">onClick</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk1\">() </span><span class=\"mtk9\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk11\">console</span><span class=\"mtk1\">.</span><span class=\"mtk3\">log</span><span class=\"mtk1\">(</span><span class=\"mtk4\">content</span><span class=\"mtk1\">)</span><span class=\"mtk9\">}</span><span class=\"mtk1\">&gt;Value&lt;/</span><span class=\"mtk4\">button</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk11\">ReactQuill</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">style</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk1\">{ </span><span class=\"mtk4\">width</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;600px&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">height</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;600px&quot;</span><span class=\"mtk1\"> }</span><span class=\"mtk9\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">placeholder</span><span class=\"mtk8\">=</span><span class=\"mtk6\">&quot;Quill Content&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">theme</span><span class=\"mtk8\">=</span><span class=\"mtk6\">&quot;snow&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">ref</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk4\">quillRef</span><span class=\"mtk9\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">value</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk4\">content</span><span class=\"mtk9\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">onChange</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk4\">setContent</span><span class=\"mtk9\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7 mtki\">modules</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk4\">modules</span><span class=\"mtk9\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">export</span><span class=\"mtk1\"> </span><span class=\"mtk9\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">App</span></span></span></code></pre>\n<p><img src=\"https://drive.google.com/uc?export=view&#x26;id=1RpM46eO4En2eDCdOTBOSAu5ppgQLQFUd\" alt=\"quill_1\"></p>\n<p>Html 형태의 문자열이 content 값에 들어왔다.<br>\n이 포스팅에서 CRUD까지 다루진 않지만 만약 DB에 저장된 content 값을 출력하고자 한다면 다음과 같이 <code>dangerouslySetInnerHTML</code>, <code>DOMPurify</code>를 사용하면 된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ yarn add isomorphic-dompurify</span></span></span></code></pre>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// src/ReadQuill.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">DOMPurify</span><span class=\"mtk1\"> </span><span class=\"mtk9\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;isomorphic-dompurify&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;react-quill/dist/quill.core.css&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">function</span><span class=\"mtk1\"> </span><span class=\"mtk3\">ReadQuill</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">content</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;&lt;h1&gt;안녕하세요!&lt;/h1&gt;&lt;h2&gt;안녕하세요!&lt;/h2&gt;&lt;h3&gt;안녕하세요!&lt;/h3&gt;&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9\">return</span><span class=\"mtk1\"> (</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk4\">div</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7 mtki\">className</span><span class=\"mtk8\">=</span><span class=\"mtk6\">&quot;view ql-editor&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki\">// react-quill css</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7 mtki\">dangerouslySetInnerHTML</span><span class=\"mtk8\">=</span><span class=\"mtk9\">{</span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">__html</span><span class=\"mtk1\">: </span><span class=\"mtk11\">DOMPurify</span><span class=\"mtk1\">.</span><span class=\"mtk3\">sanitize</span><span class=\"mtk1\">(</span><span class=\"mtk4\">content</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span><span class=\"mtk9\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    /&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  )</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">export</span><span class=\"mtk1\"> </span><span class=\"mtk9\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">ReadQuill</span></span></span></code></pre>\n<p>이렇게 dangerouslySetInnerHTML을 사용하여 직접적으로 HTML을 설정하는 것은 <a href=\"https://ko.wikipedia.org/wiki/%EC%82%AC%EC%9D%B4%ED%8A%B8_%EA%B0%84_%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8C%85\">Cross Site Scripting(XSS)</a>에 취약하다고 한다. 그래서 XSS 공격을 방지하는 dompurify와 같은 sanitization library와 함께 사용해 주었다.</p>\n<h2 id=\"에디터에-이미지를-올리면\" style=\"position:relative;\"><a href=\"#%EC%97%90%EB%94%94%ED%84%B0%EC%97%90-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EC%98%AC%EB%A6%AC%EB%A9%B4\" aria-label=\"에디터에 이미지를 올리면 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>에디터에 이미지를 올리면?</h2>\n<p>일반적인 텍스트가 입력되면 content값은 그렇게 크지 않지만, 이미지가 들어오게 될 경우 문제가 생긴다. 이미지를 에디터에 올려보고 value를 체크해보자.</p>\n<p><img src=\"https://drive.google.com/uc?export=view&#x26;id=1KZnxoI8zuthT55TM-AV-TgUYR7QyRYoM\" alt=\"quill_2\"></p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"html\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk4\">img</span><span class=\"mtk1\"> </span><span class=\"mtk7\">src</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;data:image/png;base64, 엄청나게 긴 base64 value...</span></span></span></code></pre>\n<p>React-Quill은 이미지를 올리게 되면 8비트 이진 데이터를 문자 코드에 영향을 받지 않는 공통 ASCII 문자열로 바꾼다. (<a href=\"https://ko.wikipedia.org/wiki/%EB%B2%A0%EC%9D%B4%EC%8A%A464\">base64</a>) 따라서 위와 같은 base64 인코딩이 된 형태로 이미지가 저장된다. 이렇게 value에 담긴 값을 DB에 저장하려 하면 전송에 실패하게 된다.</p>\n<h2 id=\"firebase-storage로-이미지-처리하기\" style=\"position:relative;\"><a href=\"#firebase-storage%EB%A1%9C-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"firebase storage로 이미지 처리하기 permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Firebase Storage로 이미지 처리하기</h2>\n<p>이미지 업로드 시 base64 문자열이 들어가는 방식 대신 이미지가 <code>Firebase Storage</code>에 저장이 되고, 저장된 이미지 URL을 에디터에 삽입하는 방식으로 구현하려고 한다.</p>\n<p><a href=\"https://console.firebase.google.com/\">Firebase Console</a>에서 새 프로젝트를 생성한다.</p>\n<p><code>Firebase 프로젝트 생성</code> > <code>웹 앱 추가</code> > <code>Storage</code> > <code>시작하기 (지역 : asia-east1)</code></p>\n<table>\n  <tbody><tr>\n    <td valign=\"top\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1i4L-Z9ZD1rsAlsbmhtGe7WfsJ8CP59YM\"></td>\n    <td valign=\"top\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1p9zxJ-LFj-P9usNKmrI63T7pYYWg_LE9\"></td>\n  </tr>\n  <tr>\n    <td valign=\"top\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1XaNcWsCF53C5vbG9AILE1nuw49CA5ATW\"></td>\n    <td valign=\"top\"><img src=\"https://drive.google.com/uc?export=view&amp;id=1SYRPaBt65FLNyJotseoAgCWpmotoFdp3\"></td>\n  </tr>\n</tbody></table>\n<p>프로젝트에 <code>firebase</code>를 설치하고 SDK를 작성한다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ yarn add firebase</span></span></span></code></pre>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// src/Firebase.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// Import the functions you need from the SDKs you need</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">initializeApp</span><span class=\"mtk1\">, </span><span class=\"mtk4\">getApp</span><span class=\"mtk1\">, </span><span class=\"mtk4\">getApps</span><span class=\"mtk1\"> } </span><span class=\"mtk9\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;firebase/app&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">getStorage</span><span class=\"mtk1\"> } </span><span class=\"mtk9\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;firebase/storage&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// TODO: Add SDKs for Firebase products that you want to use</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// https://firebase.google.com/docs/web/setup#available-libraries</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// Your web app&#39;s Firebase configuration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">firebaseConfig</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">apiKey</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;xxxxxxxxxxxxxxxxxx&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">authDomain</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;xxxxxxxxxxxxxxxxxx&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">projectId</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;xxxxxxxxxxxxxxxxxx&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">storageBucket</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;xxxxxxxxxxxxxxxxxx&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">messagingSenderId</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;xxxxxxxxxxxxxxxxxx&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">appId</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;xxxxxxxxxxxxxxxxxx&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// Initialize Firebase</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">app</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk8\">!</span><span class=\"mtk3\">getApps</span><span class=\"mtk1\">().</span><span class=\"mtk4\">length</span><span class=\"mtk1\"> </span><span class=\"mtk9\">?</span><span class=\"mtk1\"> </span><span class=\"mtk3\">initializeApp</span><span class=\"mtk1\">(</span><span class=\"mtk4\">firebaseConfig</span><span class=\"mtk1\">) </span><span class=\"mtk9\">:</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getApp</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">export</span><span class=\"mtk1\"> </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">storage</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">getStorage</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">export</span><span class=\"mtk1\"> </span><span class=\"mtk9\">default</span><span class=\"mtk1\"> </span><span class=\"mtk4\">app</span></span></span></code></pre>\n<p>Storage의 업로드 및 읽기 권한 설정을 위해 <code>firebase-tools</code>를 설치하고 로그인 및 초기 설정을 진행한다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"bash\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ yarn add firebase-tools</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ firebase login</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ firebase init</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    -&gt; Storage: Configure a security rules fileㅤfor Cloud Storage</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    -&gt; Use an existing project</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    -&gt; 프로젝트 선택</span></span></span></code></pre>\n<p>프로젝트에 생성된 <code>storage.rules</code> 파일을 다음과 같이 수정한다.<br>\n수정 후 <code>firebase deploy --only storage</code> 로 적용하면 권한이 부여된다.</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"bash\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\"># /storage.rules</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">rules_version = </span><span class=\"mtk6\">&#39;2&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">service firebase.storage {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  match /b/{bucket}/o {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    match /{allPaths=**} {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      allow read, write: </span><span class=\"mtk9\">if</span><span class=\"mtk1\"> </span><span class=\"mtk8\">true</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>modules에 설정할 이미지 핸들러를 작성하였다.<br>\n이미지 선택이 완료되면 Firebase Storage에 파일명 <code>image/Date.now()</code>로 저장이 되고, <code>getDownloadURL</code> 메서드로 받은 이미지 URL을 에디터에 삽입하는 흐름이다.</p>\n<p>(<code>Date.now()</code> 메서드는 UTC 기준으로 1970년 1월 1일 0시 0분 0초부터 현재까지 경과된 밀리 초를 반환한다.)</p>\n<pre class=\"grvsc-container one-dark-pro\" data-language=\"javascript\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk5 mtki\">// src/App.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> {</span><span class=\"mtk4\">storage</span><span class=\"mtk1\">} </span><span class=\"mtk9\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;./Firebase&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk4\">uploadBytes</span><span class=\"mtk1\">, </span><span class=\"mtk4\">getDownloadURL</span><span class=\"mtk1\">, </span><span class=\"mtk4\">ref</span><span class=\"mtk1\"> } </span><span class=\"mtk9\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;firebase/storage&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5 mtki\">// 이미지 핸들러</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk3\">imageHandler</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> () </span><span class=\"mtk9\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">input</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">document</span><span class=\"mtk1\">.</span><span class=\"mtk3\">createElement</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;input&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">input</span><span class=\"mtk1\">.</span><span class=\"mtk3\">setAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;type&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;file&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">input</span><span class=\"mtk1\">.</span><span class=\"mtk3\">setAttribute</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;accept&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;image/*&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">input</span><span class=\"mtk1\">.</span><span class=\"mtk3\">click</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">input</span><span class=\"mtk1\">.</span><span class=\"mtk3\">addEventListener</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;change&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk9\">async</span><span class=\"mtk1\"> () </span><span class=\"mtk9\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">editor</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">quillRef</span><span class=\"mtk1\">.</span><span class=\"mtk11\">current</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getEditor</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">file</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">input</span><span class=\"mtk1\">.</span><span class=\"mtk4\">files</span><span class=\"mtk1\">[</span><span class=\"mtk7\">0</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">range</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk11\">editor</span><span class=\"mtk1\">.</span><span class=\"mtk3\">getSelection</span><span class=\"mtk1\">(</span><span class=\"mtk7\">true</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk9\">try</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk5 mtki\">// 파일명을 &quot;image/Date.now()&quot;로 저장</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">storageRef</span><span class=\"mtk1\"> </span><span class=\"mtk8\">=</span><span class=\"mtk1\"> </span><span class=\"mtk3\">ref</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk4\">storage</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk6\">`image/</span><span class=\"mtk9\">${</span><span class=\"mtk11\">Date</span><span class=\"mtk1\">.</span><span class=\"mtk3\">now</span><span class=\"mtk1\">()</span><span class=\"mtk9\">}</span><span class=\"mtk6\">`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk5 mtki\">// Firebase Method : uploadBytes, getDownloadURL</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">await</span><span class=\"mtk1\"> </span><span class=\"mtk3\">uploadBytes</span><span class=\"mtk1\">(</span><span class=\"mtk4\">storageRef</span><span class=\"mtk1\">, </span><span class=\"mtk4\">file</span><span class=\"mtk1\">).</span><span class=\"mtk3\">then</span><span class=\"mtk1\">((</span><span class=\"mtk4 mtki\">snapshot</span><span class=\"mtk1\">) </span><span class=\"mtk9\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk3\">getDownloadURL</span><span class=\"mtk1\">(</span><span class=\"mtk11\">snapshot</span><span class=\"mtk1\">.</span><span class=\"mtk4\">ref</span><span class=\"mtk1\">).</span><span class=\"mtk3\">then</span><span class=\"mtk1\">((</span><span class=\"mtk4 mtki\">url</span><span class=\"mtk1\">) </span><span class=\"mtk9\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk5 mtki\">// 이미지 URL 에디터에 삽입</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk11\">editor</span><span class=\"mtk1\">.</span><span class=\"mtk3\">insertEmbed</span><span class=\"mtk1\">(</span><span class=\"mtk11\">range</span><span class=\"mtk1\">.</span><span class=\"mtk4\">index</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;image&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">url</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk5 mtki\">// URL 삽입 후 커서를 이미지 뒷 칸으로 이동</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk11\">editor</span><span class=\"mtk1\">.</span><span class=\"mtk3\">setSelection</span><span class=\"mtk1\">(</span><span class=\"mtk11\">range</span><span class=\"mtk1\">.</span><span class=\"mtk4\">index</span><span class=\"mtk1\"> </span><span class=\"mtk8\">+</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      } </span><span class=\"mtk9\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk4\">error</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk11\">console</span><span class=\"mtk1\">.</span><span class=\"mtk3\">log</span><span class=\"mtk1\">(</span><span class=\"mtk4\">error</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span></code></pre>\n<p>Storage에 성공적으로 업로드 되었고, 이미지 URL 또한 에디터에 잘 반영이 되었다.</p>\n<p><img src=\"https://drive.google.com/uc?export=view&#x26;id=1qGb6MXInHSddKEZ3cOJydUH7QKs2gQXN\" alt=\"quill_3\"></p>\n<p><img src=\"https://drive.google.com/uc?export=view&#x26;id=1oS2fohxreWs8DGaHVQzCyR6o_Q0PQOGg\" alt=\"quill_4\"></p>\n<hr>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"toc-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p><a href=\"https://ko.wikipedia.org/wiki/%EC%82%AC%EC%9D%B4%ED%8A%B8_%EA%B0%84_%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8C%85\">사이트 간 스크립팅 - 위키백과, 우리 모두의 백과사전</a></p>\n<p><a href=\"https://mingeesuh.tistory.com/entry/Quill-React-%EC%97%90%EB%94%94%ED%84%B0-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%A1%9C%EB%93%9C-%EB%B0%8F-%EC%82%AC%EC%9D%B4%EC%A6%88-%EC%A1%B0%EC%A0%88\">Quill React 에디터 사용해보기 (이미지 업로드 및 사이즈 조절)</a></p>\n<p><a href=\"https://mingeesuh.tistory.com/entry/Firebase-%EC%9B%B9-%ED%8C%8C%EC%9D%B4%EC%96%B4%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%97%85%EB%A1%9C%EB%93%9C-%EB%B0%8F-%EB%A7%81%ED%81%AC-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0\">[Firebase 웹] 파이어베이스 스토리지 이미지 업로드 및 링크 가져오기</a></p>\n<p><a href=\"https://12ahn22.tistory.com/entry/Quill-%EC%97%90%EB%94%94%ED%84%B0-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\">Quill 에디터 - 이미지 처리하기</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now\">Date.now() - JavaScript | MDN</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .one-dark-pro {\n    background-color: #282c34;\n    color: #abb2bf;\n  }\n  .one-dark-pro .mtki { font-style: italic; }\n  .one-dark-pro .mtk1 { color: #ABB2BF; }\n  .one-dark-pro .mtk5 { color: #7F848E; }\n  .one-dark-pro .mtk9 { color: #C678DD; }\n  .one-dark-pro .mtk4 { color: #E06C75; }\n  .one-dark-pro .mtk6 { color: #98C379; }\n  .one-dark-pro .mtk3 { color: #61AFEF; }\n  .one-dark-pro .mtk11 { color: #E5C07B; }\n  .one-dark-pro .mtk8 { color: #56B6C2; }\n  .one-dark-pro .mtk7 { color: #D19A66; }\n  .one-dark-pro .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","tableOfContents":"<ul>\n<li><a href=\"/React/230214/#react-quill-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0\">React-Quill 구성하기</a></li>\n<li><a href=\"/React/230214/#%EC%97%90%EB%94%94%ED%84%B0%EC%97%90-%EC%9D%B4%EB%AF%B8%EC%A7%80%EB%A5%BC-%EC%98%AC%EB%A6%AC%EB%A9%B4\">에디터에 이미지를 올리면?</a></li>\n<li><a href=\"/React/230214/#firebase-storage%EB%A1%9C-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\">Firebase Storage로 이미지 처리하기</a></li>\n<li><a href=\"/React/230214/#reference\">Reference</a></li>\n</ul>","frontmatter":{"date":"2023년 02월 14일","title":"React-Quill Editor 이미지 처리하기 (Firebase Storage)","tags":["React","Quill","Firebase"]}}},"pageContext":{"slug":"/React/230214/","previous":{"fields":{"slug":"/Javascript/230125/"},"frontmatter":{"title":"구조 분해 할당"}},"next":{"fields":{"slug":"/Algorithm/230224/"},"frontmatter":{"title":"시간 복잡도, Big-O(빅오) 표기법"}}}},"staticQueryHashes":["1081905842","3911196313"]}